# ---------------------------------------------------------------
# Assembly language program that reads data from the switches
# and displays it on the LEDs.
# ---------------------------------------------------------------

.text

# define a macro to move a 32 bit address to a register

.macro MOVIA reg, addr
  movhi \reg, %hi(\addr)
  ori \reg, \reg, %lo(\addr)
.endm

# define constants
.equ Switches, 0x11020    #find the base address of Switches in the system.h file
.equ Hex_0,    0x11010    #find the base address of Switches in the system.h file
.equ ZERO,     0x40
.equ ONE,      0x79
.equ TWO,      0x24
.equ THREE,    0x30
.equ FOUR,     0x19
.equ FIVE,     0x12
.equ SIX,      0x02
.equ SEVEN,    0x78
.equ EIGHT,    0x00
.equ NINE,     0x18

#Define the main program
.global main
main:
  movia r2, Hex_0        #move the pointer to the hex display in r2
  movia r3, Switches     #move the pointer of the switches in r3
  movia r4,
  movia r5, display      #move the pointer of array into r2
  ldb   r4, 0(r)        #load the first from r3 in r4
  ldw   r5, 0(r0)        #load the zero in r5
loop:
  stbio r4, 0(r2)        #store
  ldbio
  br    loop

display:
  .word ZERO,ONE,TWO,THREE,FOUR
  .word FIVE,SIX,SEVEN,EIGHT,NINE
